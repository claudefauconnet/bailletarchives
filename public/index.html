<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" media="screen" type="text/css" title="Design" href="js/jquery/jquery-ui.min.css"/>
    <link rel="stylesheet" href="js/jsTree/themes/default/style.min.css"/>


    <script src="js/jquery/jquery.min.js"></script>
    <script src="js/jquery/jquery-ui.min.js"></script>


    <script src="js/jsTree/jstree.min.js"></script>
    <script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css"/>

    <script src="js/jsTree/treeController.js"></script>
    <script src="js/recordController.js"></script>
    <script src="js/dataTable.js"></script>
    <script src="js/recordController.js"></script>


    <script src="js/mainController.js"></script>


    <style>
        body {
            font-family: Verdana;
            font-size: 14px;
        }

        input, button {
            margin: 0px;
            padding: 2px

        }

        #main {
            width: 100%;
            display: table
        }

        #left {
            float: left;
            display: inline;
            width: 20%;
        }

        #right {
            float: left;
            display: inline;
            width: 77%;
            margin-left: 5px;
        }

        .accordionInnerDiv {
            min-height: 300px;

        }

        #listRecordsDiv, #linkedRecordsDiv {
            height: 500px;
            width: 77%;
        / / overflow: auto;
        }

        #dataTable_wrapper {
            overflow: auto;
        }

        .myDatatable tr {
            height: 20px !important;
        }

        #messageDiv {
            font-style: italic;
        }

        .dialogTab {

            background-color: #c2beff85;
        }


    </style>

    <script>
        var dialog;
        $(function () {
            mainController.setDivsSize();
            $("#leftAccordion").accordion();

            $("#tabs").tabs({
                activate: function (event, ui) {
                    var currentTabIndex = ui.newTab.index();
                    if (currentTabIndex == 1) {
                        mainController.showLinkedRecords();
                    }

                }
            });
            dialog = $("#dialogDiv").dialog({
                autoOpen: false,
                height: mainController.totalDims.h * .8,
                width: "80%",
                modal: true,
                buttons: {
                    "Enregistrer": function () {
                        recordController.saveRecord();
                        dialog.dialog("close");
                    },
                    Cancel: function () {
                        dialog.dialog("close");
                    }
                },
                close: function () {
                    // allFields.removeClass("ui-state-error");
                }
            });
            mainController.bindActions();

            mainController.loadDataModel(function (err, result) {
                if (err)
                    return;
                mainController.initTablesSelects();


            });


        })

    </script>
</head>
<body>
<div id="messageDiv"></div>
<div id="main">

    <div id="left">

        <div id="leftAccordion">
            <h1>search</h1>
            <div id="versementsDiv" class="accordionInnerDiv">
                <table style="left: -30px;position: relative;">
                    <tr>
                        <td>
                            table
                        </td>
                        <td>
                            <select id="searchTableInput"></select>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            champ
                        </td>
                        <td>
                            <select id="searchColumnInput"></select>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            operateur
                        </td>
                        <td>
                            <select id="searchOperatorInput"></select>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            valeur
                        </td>
                        <td>
                            <input id="searchValueInput" style="width:150px"/>
                        </td>
                    </tr>
                </table>


                <br>
                <button id="searchAddCriteria">+</button>&nbsp;<button id="searchsButton"> chercher</button>
            </div>
            <h1>new</h1>
            <div id="newDiv" class="accordionInnerDiv"></div>
            <h1>statisitics</h1>
            <div id="statsDiv" class="accordionInnerDiv">

            </div>

        </div>

    </div>

    <div id="right">
        <button id="showHideLeftPanelButton"><< >></button>
        <div id="listRecordsDiv">


        </div>
    </div>

</div>

<div id="dialogDiv">
    <div id="tabs">
        <ul>
            <li><a href="#tabs-recordDiv">Details</a></li>
            <li><a href="#tabs-linkedRecordDiv">LinkedRecord</a></li>
            <li><a href="#tabs-newLinkedRecordDiv">lier</a></li>

        </ul>
        <div id="tabs-recordDiv" class="dialogTab">
            <div id="recordDetailsDiv"></div>

        </div>
        <div id="tabs-linkedRecordDiv" class="dialogTab">
            <div id="linkedRecordsDiv"></div>
            <button id="deleteLinkedRecordButton">supprimer lien</button>

        </div>
        <div id="tabs-newLinkedRecordDiv" class="dialogTab">
            <br>
            chercher <input id="searchLinkedRecordsInput">
            <div id="new_linkedRecordsDiv"></div>
            <button id="addLinkedRecordButton">ajouter lien</button>
        </div>
        -


    </div>
</div>


</body>
</html>